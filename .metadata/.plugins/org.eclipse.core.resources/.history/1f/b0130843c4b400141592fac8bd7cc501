package tictactoe;

import java.util.Scanner;

public class TicTacToe {

	static Board gameBoard = null;
	static PlayerController controller = null;
	static Player player1 = null;
	static Player player2 = null;
	static boolean winnerFound;
	
	public static void main(String[] args) {
		TicTacToe game = new TicTacToe();
		game.initialize();
		Scanner scanIn = new Scanner(System.in);
		while(winnerFound == false){
			System.out.println(String.format("Player %d please place your piece (From 0-8)", controller.getCurrentPlayerNumber()));
			int position = scanIn.nextInt();
			try{
				controller.getCurrentPlayer().putPiece(position);
			}catch(PositionTakenException e){
				continue;
			}
			CheckWinner checker = new CheckWinner(gameBoard, controller, position);
			winnerFound = checker.checkWinner();
			controller.changePlayer();			
		}
		
		
		
		
		
		
	}
	
	public void initialize(){
		
		gameBoard = Board.getBoard();
		controller = new PlayerController(gameBoard);
		winnerFound = false;
	}
	
	public void restart(){
		gameBoard = gameBoard.restart();;
		controller = new PlayerController(gameBoard);;
		winnerFound = false;
	}
}
